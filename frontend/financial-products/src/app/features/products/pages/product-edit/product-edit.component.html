<div class="form-page-container">
  <div class="form-container">
    <form class="product-form" [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <h2 class="form-title">Editar Producto</h2>
      <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
      <div class="form-row">
        <div class="form-group">
          <label for="id">ID</label>
          <input id="id" type="text" formControlName="id" [disabled]="true" [class.error]="f['id'].invalid && (f['id'].touched || f['id'].dirty)" />
          <div class="error-message" *ngIf="f['id'].errors && (f['id'].touched || f['id'].dirty)">
            <ng-container *ngIf="f['id'].errors['required']">El ID es requerido.</ng-container>
            <ng-container *ngIf="f['id'].errors['minlength']">El ID debe tener al menos 3 caracteres.</ng-container>
            <ng-container *ngIf="f['id'].errors['maxlength']">El ID no debe superar los 10 caracteres.</ng-container>
          </div>
        </div>
        <div class="form-group">
          <label for="name">Nombre</label>
          <input id="name" type="text" formControlName="name" [class.error]="f['name'].invalid && (f['name'].touched || f['name'].dirty)" />
          <div class="error-message" *ngIf="f['name'].errors && (f['name'].touched || f['name'].dirty)">
            <ng-container *ngIf="f['name'].errors['required']">El nombre es requerido.</ng-container>
            <ng-container *ngIf="f['name'].errors['minlength']">El nombre debe tener al menos 5 caracteres.</ng-container>
            <ng-container *ngIf="f['name'].errors['maxlength']">El nombre no debe superar los 100 caracteres.</ng-container>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="description">Descripción</label>
          <input id="description" type="text" formControlName="description" [class.error]="f['description'].invalid && (f['description'].touched || f['description'].dirty)" />
          <div class="error-message" *ngIf="f['description'].errors && (f['description'].touched || f['description'].dirty)">
            <ng-container *ngIf="f['description'].errors['required']">La descripción es requerida.</ng-container>
            <ng-container *ngIf="f['description'].errors['minlength']">La descripción debe tener al menos 10 caracteres.</ng-container>
            <ng-container *ngIf="f['description'].errors['maxlength']">La descripción no debe superar los 200 caracteres.</ng-container>
          </div>
        </div>
        <div class="form-group">
          <label for="logo">Logo</label>
          <input id="logo" type="text" formControlName="logo" [class.error]="f['logo'].invalid && (f['logo'].touched || f['logo'].dirty)" />
          <div class="error-message" *ngIf="f['logo'].errors && (f['logo'].touched || f['logo'].dirty)">
            <ng-container *ngIf="f['logo'].errors['required']">El logo es requerido.</ng-container>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="date-release">Fecha Liberación</label>
          <input id="date-release" type="date" formControlName="date_release" [class.error]="f['date_release'].invalid && (f['date_release'].touched || f['date_release'].dirty)" />
          <div class="error-message" *ngIf="f['date_release'].errors && (f['date_release'].touched || f['date_release'].dirty)">
            <ng-container *ngIf="f['date_release'].errors['required']">La fecha de liberación es requerida.</ng-container>
            <ng-container *ngIf="f['date_release'].errors['dateReleaseInvalid']">La fecha debe ser igual o mayor a hoy.</ng-container>
          </div>
        </div>
        <div class="form-group">
          <label for="date-revision">Fecha Revisión</label>
          <input id="date-revision" type="date" formControlName="date_revision" [class.error]="f['date_revision'].invalid && (f['date_revision'].touched || f['date_revision'].dirty)" />
          <div class="error-message" *ngIf="f['date_revision'].errors && (f['date_revision'].touched || f['date_revision'].dirty)">
            <ng-container *ngIf="f['date_revision'].errors['required']">La fecha de revisión es requerida.</ng-container>
            <ng-container *ngIf="f['date_revision'].errors['dateRevisionInvalid']">La fecha debe ser exactamente un año posterior a la fecha de liberación.</ng-container>
          </div>
        </div>
      </div>
      <div class="form-actions">
        <button type="button" class="reset-btn" (click)="onReset()">Reiniciar</button>
        <button type="submit" class="submit-btn" [disabled]="loading">Actualizar</button>
      </div>
    </form>
  </div>
</div>
